<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <nav class="tabs-nav">
      <button id="search-tab-btn" class="tabs-nav-btn active" data-tab="search-tab">Search</button>
      <button id="settings-tab-btn" class="tabs-nav-btn" data-tab="settings-tab">Settings</button>
      <button id="transcript-tab-btn" class="tabs-nav-btn" data-tab="transcript-tab">Transcript</button>
    </nav>

    <main>
      <div id="search-tab" class="tab-content active">
        <div class="search-container">
          <input id="search-input" type="text" placeholder="Enter anime name...">
          <select id="search-source">
            <option value="both">All Sources</option>
            <option value="jimaku">Jimaku</option>
            <option value="kitsunekko">Kitsunekko</option>
            <option value="opensubtitles">OpenSubtitles</option>
          </select>
          <button id="search-button">Search</button>
        </div>
        <div id="history-div"></div>
        <div id="results-container">
          <div id="results-div"></div>
          <div id="status-message" class="status-message">
            <i>Enter a name and click Search.</i>
          </div>
        </div>
      </div>

      <div id="settings-tab" class="tab-content">
        <div class="setting-group">
            <h3>Local Subtitle</h3>
            <button id="load-file-btn" style="width: 100%; padding: 10px; font-size: 14px; margin-bottom: 10px;">Load .srt/.ass from File</button>
            <input type="file" id="file-input" accept=".srt,.ass" style="display: none;">
        </div>

        <div class="setting-group">
          <h3>Language Settings</h3>
          <div class="setting-row">
            <label for="language-select">Subtitle Language</label>
            <select id="language-select" style="background-color: var(--bg-lighter); border: 1px solid var(--border-color); color: var(--fg-color); padding: 6px; border-radius: 4px;">
              <option value="japanese">Japanese</option>
              <option value="german">German</option>
              <option value="english">English</option>
              <option value="french">French</option>
              <option value="spanish">Spanish</option>
            </select>
          </div>
        </div>
        <div class="setting-group">
          <h3>Analysis Tools</h3>
          <label class="checkbox-label"><input type="checkbox" id="furigana-toggle"> Enable Furigana (Ruby)</label>
          <label class="checkbox-label"><input type="checkbox" id="dictionary-toggle"> Enable Popup Dictionary</label>
        </div>
        <div class="setting-group">
          <h3>Subtitle Timing</h3>
          <div class="setting-row">
            <label for="offset-input">Time Offset</label>
            <div class="input-group">
              <button id="offset-minus">-</button>
              <input id="offset-input" type="text" value="0" size="4">
              <button id="offset-plus">+</button>
              <span>sec</span>
            </div>
          </div>
        </div>
        <div class="setting-group">
          <h3>Subtitle Appearance</h3>
          <div class="setting-row">
            <label for="position-input">Vertical Position</label>
            <div class="input-group">
              <button id="position-down">-</button>
              <input id="position-input" type="text" value="5" size="3">
              <button id="position-up">+</button>
              <span>%</span>
            </div>
          </div>
          <div class="setting-row">
            <label for="fontsize-input">Font Size</label>
            <div class="input-group">
              <button id="fontsize-minus">-</button>
              <input id="fontsize-input" type="text" value="2.5" size="3">
              <button id="fontsize-plus">+</button>
              <span>vw</span>
            </div>
          </div>
        </div>
        <button id="apply-btn">Apply to Video</button>
        <div id="apply-status" class="status-message" style="display: none;"></div>
      </div>

      <div id="transcript-tab" class="tab-content">
        <h3>Transcript</h3>
        <div id="transcript-container">
          <i>No transcript available. Load a subtitle file first.</i>
        </div>
      </div>
    </main>
  </div>
  <script src="popup.js"></script>
</body>
</html>